<%- include('../partials/navbar') %>

<div class="container mt-5">
  <h2><%= recipe.title %></h2>
  <p><strong>Category:</strong> <%= recipe.category %></p>
  <p><strong>Calories:</strong> <%= recipe.nutritionalInfo.calories %> kcal</p>

  <h4>Ingredients</h4>
  <ul>
    <% recipe.ingredients.forEach(ing => { %>
      <li><%= ing %></li>
    <% }) %>
  </ul>

  <h4>Directions</h4>
  <ol>
    <% recipe.directions.forEach(step => { %>
      <li><%= step %></li>
    <% }) %>
  </ol>

  <div class="mt-4">
    <a href="/api/recipes/<%= recipe._id %>/download/pdf" class="btn btn-outline-info me-2">Download PDF</a>
    <a href="/api/recipes/<%= recipe._id %>/download/text" class="btn btn-outline-secondary">Download Text</a>
  </div>

  <hr />

  <h4>User Reviews</h4>
  <% reviews.forEach(review => { %>
    <div class="mb-3">
      <strong><%= review.user.username %>:</strong> ‚≠ê <%= review.rating %><br/>
      <%= review.comment %>
    </div>
  <% }) %>
</div>

<%- include('../partials/footer') %>
